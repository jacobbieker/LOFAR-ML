_BASE_: "base/Base-RCNN-FPN.yaml"
INPUT:
  MIN_SIZE_TRAIN: (400,)
  MIN_SIZE_TEST: 400
  MAX_SIZE_TRAIN: 400
  MAX_SIZE_TEST: 400
  FORMAT: "RGB"
MODEL:
  #WEIGHTS: "detectron2://ImageNetPretrained/MSRA/R-50.pkl"
  MASK_ON: False
  LOAD_PROPOSALS: True
  PIXEL_MEAN: [15.905, 2.394, 1.611]
  PIXEL_STD: [30.759, 13.674, 11.303]
  ROI_HEADS:
    BATCH_SIZE_PER_IMAGE: 4096
    NUM_CLASSES: 1  # only has one class (Optical Source)
  RESNETS:
    STRIDE_IN_1X1: False  # this is a C2 model
    NUM_GROUPS: 32
    WIDTH_PER_GROUP: 8
    DEPTH: 101
  PROPOSAL_GENERATOR:
    NAME: "PrecomputedProposals"
  ANCHOR_GENERATOR:
    ASPECT_RATIOS: [[1.0,]]
    ANGLES: [[0.,]]
    #SIZES: [[1,2,3,4,5,6,7,8,9,10,12,14,16,20,26,30,32,40,48,56,64,70,76,80,88,96,112,128,256,512,1024]]
    #SIZES: [[1,2,3,4,5,6,7,8,9,10,20],[12,14,16,18,24,26,28,30,40],[32,34,36,38,40,56,64,80],[70,76,80,96,120,128,256],[136,148,164,256,512,1024]]
    SIZES: [[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 44, 48, 56, 64, 70, 76, 80, 88, 96, 112, 120, 128, 136, 148, 164, 190, 214, 256, 512, 1024]]
#DATASETS:
#  PROPOSAL_FILES_TRAIN: ("detectron2://COCO-Detection/rpn_R_50_FPN_1x/137258492/coco_2017_train_box_proposals_21bc3a.pkl", )
#  PROPOSAL_FILES_TEST: ("detectron2://COCO-Detection/rpn_R_50_FPN_1x/137258492/coco_2017_val_box_proposals_ee0dad.pkl", )
DATALOADER:
  # proposals are part of the dataset_dicts, and take a lot of RAM
  NUM_WORKERS: 2
SOLVER:
  BASE_LR: 0.0001
  IMS_PER_BATCH: 4
  STEPS: (210000, 250000)
  MAX_ITER: 90000
  CHECKPOINT_PERIOD: 50000
